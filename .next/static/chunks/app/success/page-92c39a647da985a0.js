(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{5728:(e,t,l)=>{"use strict";l.d(t,{default:()=>u});var s=l(5155),n=l(2115),i=l(5695),r=l(8589);let o=(0,l(2895).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var a=l(5731),c=l(7947);let u=()=>{let[e,t]=(0,n.useState)(5),l=(0,i.useRouter)(),u=(0,i.useSearchParams)(),{user:d,isLoading:m}=(0,a.As)(),h=(null==u?void 0:u.get("resubmit"))==="true",x=(null==u?void 0:u.get("checkout"))==="completed",b=(null==u?void 0:u.get("plan"))||"monthly",p=null==u?void 0:u.get("session_id");if((0,n.useEffect)(()=>{if(m)return;t(x?10:5);let e=setInterval(()=>{t(t=>t<=1?(clearInterval(e),d?(console.log("[SuccessPage] User logged in, redirecting to /profile. isStripeSuccess=".concat(x)),l.push("/profile")):p&&x?l.push("/signup-access?session_id=".concat(p)):l.push("/login"),0):t-1)},1e3);return()=>clearInterval(e)},[l,d,m,h,x,p]),m)return(0,s.jsx)(r.default,{children:(0,s.jsx)("div",{className:"bg-gray-900 py-32",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9b9b6f] mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:x?"Verifying payment...":"Processing..."})]})})});if(x){var f;return(0,s.jsx)(r.default,{children:(0,s.jsx)("div",{className:"bg-black min-h-screen py-16",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsx)(c.A,{subscriptionType:b,customerName:null==d||null==(f=d.email)?void 0:f.split("@")[0],redirectTo:"/profile",redirectLabel:"Go to Profile (".concat(e,"s)")})})})})}return(0,s.jsx)(r.default,{children:(0,s.jsx)("div",{className:"bg-gray-900 py-32",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)("div",{className:"rounded-full bg-[#9b9b6f] p-4",children:(0,s.jsx)(o,{size:48,className:"text-white"})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:h?"Thank You for Your Resubmission!":"Thank You for Your Submission!"}),(0,s.jsxs)("p",{className:"text-gray-400 text-xl mb-8 max-w-2xl mx-auto",children:["Your video is being reviewed by our team. You'll be notified once a decision has been made. Good luck! You will be redirected to your profile page in"," ",e," seconds."]})]})})})}},7947:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var s=l(5155),n=l(2115),i=l(5695),r=l(5731),o=l(798);let a=e=>{let{subscriptionType:t="monthly",customerName:l,redirectTo:a,redirectLabel:c}=e,u=(0,i.useRouter)(),{user:d,profile:m}=(0,r.As)(),{trackEvent:h}=(0,o.Q)();return(0,n.useEffect)(()=>{(async()=>{var e,l;if(!d)return;let s={email:d.email,externalId:d.id,firstName:(null==m||null==(e=m.full_name)?void 0:e.split(" ")[0])||"",lastName:(null==m||null==(l=m.full_name)?void 0:l.split(" ").slice(1).join(" "))||"",phone:(null==m?void 0:m.phone)||""},n="monthly"===t?9.99:99.99;await h("Purchase",s,{value:n,currency:"USD",content_name:"PUC ".concat("monthly"===t?"Monthly":"Annual"," Membership"),content_category:"Subscription",content_ids:[t],content_type:"product",num_items:1,order_id:"order_".concat(d.id,"_").concat(Date.now()),delivery_category:"home_delivery"})})()},[d,m,t,h]),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-green-500 mb-4",children:"Payment Successful!"}),(0,s.jsx)("p",{className:"text-gray-200 mb-6",children:l?"Welcome to Pull-Up Club, ".concat(l,"!"):"Your subscription is now active. Welcome to Pull-Up Club!"}),(0,s.jsx)("button",{className:"bg-[#9b9b6f] text-black px-6 py-2 rounded-full font-semibold hover:bg-[#7a7a58] transition",onClick:()=>{a?u.push(a):u.push("/profile")},children:c||"Go to Dashboard"})]})}},9805:(e,t,l)=>{Promise.resolve().then(l.bind(l,5728))}},e=>{e.O(0,[825,218,661,650,116,589,441,964,358],()=>e(e.s=9805)),_N_E=e.O()}]);