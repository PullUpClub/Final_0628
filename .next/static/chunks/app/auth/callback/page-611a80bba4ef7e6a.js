(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6769],{128:(e,t,r)=>{Promise.resolve().then(r.bind(r,7932))},3168:(e,t,r)=>{"use strict";r.d(t,{M3:()=>l,ND:()=>i,yz:()=>c});var s=r(5647),o=r(9509);let a="https://yqnikgupiaghgjtsaypr.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxbmlrZ3VwaWFnaGdqdHNheXByIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NDIzMDMsImV4cCI6MjA2MzUxODMwM30.3rR9EyNlWSLZAoYqlCa3MOJobHH7RHjak0m_3mI6YZs";if(window.__SUPABASE_LOGGED__||(console.log("\uD83D\uDD27 Supabase Environment Check:",{url:a?"✓ Loaded":"✗ Missing",key:n?"✓ Loaded":"✗ Missing",nodeEnv:"production",allPublicEnvs:Object.keys(o.env).filter(e=>e.startsWith("NEXT_PUBLIC_"))}),window.__SUPABASE_LOGGED__=!0),!a||!n)throw console.error("❌ Supabase Configuration Error:","Missing required Supabase environment variables:\n  - NEXT_PUBLIC_SUPABASE_URL: ".concat(a?"✓":"✗","\n  - NEXT_PUBLIC_SUPABASE_ANON_KEY: ").concat(n?"✓":"✗","\n  \n  Please ensure these are set in your .env.local file and restart the development server.")),console.error("\uD83C\uDF10 Client-side environment variables not loaded. This usually means the dev server needs to be restarted."),Error("Missing required Supabase environment variables");let l=()=>{{let e=window.location.host,t=window.location.protocol;return"".concat(t,"//").concat(e,"/auth/callback")}},i=(0,s.UU)(a,n,{auth:{persistSession:!0,storageKey:"pullupclub-auth",detectSessionInUrl:!1,autoRefreshToken:!0,debug:!1,storage:{getItem:e=>{try{return localStorage.getItem(e)}catch(e){return console.warn("Error reading from localStorage:",e),null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(e){console.warn("Error writing to localStorage:",e)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(e){console.warn("Error removing from localStorage:",e)}}}}}),c=!1},7932:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(5155),o=r(2115),a=r(5695),n=r(3168);function l(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),[r,l]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{(async()=>{try{if(console.log("[AuthCallback] Processing auth callback..."),!t){l("No URL parameters found"),c(!1);return}let r=t.get("code"),s=t.get("error"),o=t.get("error_description");if(s){console.error("[AuthCallback] Auth error:",o),l(o||"Authentication failed"),c(!1);return}if(r){let{data:s,error:o}=await n.ND.auth.exchangeCodeForSession(r);if(o){console.error("[AuthCallback] Code exchange error:",o),l(o.message),c(!1);return}s.session?(console.log("[AuthCallback] Session established successfully"),"recovery"===t.get("type")?e.push("/reset-password?confirmed=true"):e.push("/profile")):(l("No session received"),c(!1))}else{let{data:{session:t}}=await n.ND.auth.getSession();t?(console.log("[AuthCallback] Existing session found"),e.push("/profile")):(l("No authentication code found"),c(!1))}}catch(e){console.error("[AuthCallback] Unexpected error:",e),l(e instanceof Error?e.message:"Authentication failed"),c(!1)}})()},[t,e]),r)?(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Authentication Error"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:r}),(0,s.jsx)("button",{onClick:()=>e.push("/login"),className:"bg-[#9b9b6f] hover:bg-[#8a8a5f] text-black px-6 py-2 rounded font-medium",children:"Back to Login"})]})}):i?(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9b9b6f] mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Completing authentication..."}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Please wait while we set up your account"})]})}):null}}},e=>{e.O(0,[3825,8441,5964,7358],()=>e(e.s=128)),_N_E=e.O()}]);