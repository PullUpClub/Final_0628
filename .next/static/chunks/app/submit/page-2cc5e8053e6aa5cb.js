(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1731],{311:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(2895).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},500:(e,t,s)=>{"use strict";s.d(t,{default:()=>E});var l=s(5155),r=s(2115),i=s(8126),a=s.n(i),n=s(5695),o=s(8589),c=s(5731),d=s(3168);let u=(0,s(2895).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var m=s(7624),p=s(4912);let g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[a,n]=(0,r.useState)(null),o=async()=>{try{i(!0);let t=d.ND.from("submissions").select("*, profiles(email, full_name, age, gender, city, organization)").order("created_at",{ascending:!1});e.status&&"all"!==e.status&&(t=t.eq("status",e.status.toLowerCase())),e.limit&&(t=t.limit(e.limit));let{data:l,error:r}=await t;if(r)throw r;let a=(l||[]).map(e=>{var t,s,l,r,i,a,n;return{id:e.id,userId:e.user_id,fullName:(null==(t=e.profiles)?void 0:t.full_name)||"Unknown User",email:(null==(s=e.profiles)?void 0:s.email)||"unknown@example.com",phone:null==(l=e.profiles)?void 0:l.phone,age:(null==(r=e.profiles)?void 0:r.age)||0,gender:(null==(i=e.profiles)?void 0:i.gender)||"Other",region:(null==(a=e.profiles)?void 0:a.city)||"Unknown Region",organization:(null==(n=e.profiles)?void 0:n.organization)||"None",pullUpCount:e.pull_up_count,actualPullUpCount:e.actual_pull_up_count||void 0,videoUrl:e.video_url,status:e.status.charAt(0).toUpperCase()+e.status.slice(1),submittedAt:e.created_at,approvedAt:e.approved_at||void 0,notes:e.notes||void 0,featured:"approved"===e.status,socialHandle:e.social_handle}});s(a)}catch(e){n(e instanceof Error?e.message:"Error fetching submissions")}finally{i(!1)}},c=async(e,t)=>{try{let{data:{session:s}}=await d.ND.auth.getSession();if(!(null==s?void 0:s.access_token))throw Error("Authentication required");let{error:l}=await d.ND.functions.invoke("admin-submissions",{body:{submissionId:e,status:"approved",actualPullUpCount:t},headers:{Authorization:"Bearer ".concat(s.access_token)}});if(l)throw l;await o()}catch(e){n(e instanceof Error?e.message:"Error approving submission")}},u=async(e,t)=>{try{let{data:{session:s}}=await d.ND.auth.getSession();if(!(null==s?void 0:s.access_token))throw Error("Authentication required");let{error:l}=await d.ND.functions.invoke("admin-submissions",{body:{submissionId:e,status:"rejected",notes:t},headers:{Authorization:"Bearer ".concat(s.access_token)}});if(l)throw l;await o()}catch(e){n(e instanceof Error?e.message:"Error rejecting submission")}};return(0,r.useEffect)(()=>{o()},[e.status,e.limit]),{submissions:t,loading:l,error:a,refetch:o,approveSubmission:c,rejectSubmission:u}};var h=s(2915),x=s(809),b=s(311),f=s(4416);let v=e=>{let{title:t,description:s,variant:r="info",icon:i,onClose:a,className:n=""}=e,o={info:{container:"bg-blue-900/30 border-blue-800",icon:(0,l.jsx)(u,{className:"h-5 w-5 text-blue-400"}),title:"text-blue-300"},success:{container:"bg-green-900/30 border-green-800",icon:(0,l.jsx)(h.A,{className:"h-5 w-5 text-green-400"}),title:"text-green-300"},warning:{container:"bg-yellow-900/30 border-yellow-800",icon:(0,l.jsx)(x.A,{className:"h-5 w-5 text-yellow-400"}),title:"text-yellow-300"},error:{container:"bg-red-900/30 border-red-800",icon:(0,l.jsx)(b.A,{className:"h-5 w-5 text-red-400"}),title:"text-red-300"}}[r];return(0,l.jsx)("div",{className:"border rounded-lg p-4 ".concat(o.container," ").concat(n),children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:i||o.icon}),(0,l.jsxs)("div",{className:"ml-3 flex-1",children:[t&&(0,l.jsx)("h3",{className:"text-sm font-medium ".concat(o.title),children:t}),(0,l.jsx)("div",{className:"text-sm text-white mt-1",children:s})]}),a&&(0,l.jsxs)("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-gray-800/30 p-1.5 rounded-lg inline-flex text-gray-400 hover:text-white",onClick:a,children:[(0,l.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,l.jsx)(f.A,{className:"h-4 w-4"})]})]})})};var y=s(6874),j=s.n(y),N=s(4584);let w=e=>{let{href:t,children:s,variant:i="primary",size:a="md",className:n="",analyticsEvent:o,onClick:c,...d}=e,{trackEvent:u}={logEvent:(0,r.useCallback)(e=>{window.gtag&&window.gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value})},[]),trackEvent:(0,r.useCallback)((e,t,s,l)=>{(0,N.sx)({category:e,action:t,label:s||e,value:l})},[])};return(0,l.jsx)(j(),{href:t,className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors"," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-600 text-white hover:bg-gray-700",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50",success:"bg-green-600 text-white hover:bg-green-700",danger:"bg-red-600 text-white hover:bg-red-700"}[i]," ").concat(n),onClick:e=>{if(o){let{category:e,action:t,label:s,value:l}=o;u(e,t,s,l)}null==c||c(e)},...d,children:s})};var k=s(8777),_=s(8798),U=s(8260),C=s(168),A=s(1218),F=s(6766),z=s(798);let M=e=>{let{status:t,countdown:s}=e,{t:r}=(0,A.Bd)("submission");if(!t)return null;switch(t.status){case"eligible":return(0,l.jsxs)("div",{className:"bg-green-900 border border-green-700 text-white p-6 rounded-lg mb-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg mb-2",children:r("eligibility.eligible.title")}),(0,l.jsx)("p",{className:"mb-3",children:t.message}),(0,l.jsxs)("div",{className:"bg-green-800 p-3 rounded",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:r("eligibility.eligible.deadline")}),(0,l.jsx)("p",{className:"text-lg",children:r("eligibility.eligible.remaining",{days:s.days,hours:s.hours,minutes:s.minutes})})]})]});case"rejected":return(0,l.jsxs)("div",{className:"bg-yellow-900 border border-yellow-700 text-white p-6 rounded-lg mb-6",children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-2",children:["\uD83D\uDD04 ",r("eligibility.rejected.title")]}),(0,l.jsx)("p",{className:"mb-3",children:t.message}),(0,l.jsx)("div",{className:"bg-yellow-800 p-3 rounded",children:(0,l.jsx)("p",{className:"text-sm",children:r("eligibility.rejected.message")})})]});case"pending":return(0,l.jsxs)("div",{className:"bg-blue-900 border border-blue-700 text-white p-6 rounded-lg mb-6",children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-2",children:["⏳ ",r("eligibility.pending.title")]}),(0,l.jsx)("p",{className:"mb-3",children:t.message}),(0,l.jsx)("div",{className:"bg-blue-800 p-3 rounded",children:(0,l.jsx)("p",{className:"text-sm",children:r("eligibility.pending.message")})})]});case"approved_waiting":return(0,l.jsxs)("div",{className:"bg-gray-900 border border-gray-700 text-white p-6 rounded-lg mb-6",children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-2",children:["\uD83C\uDF89 ",r("eligibility.approved.title")]}),(0,l.jsx)("p",{className:"mb-3",children:r("eligibility.approved.message")}),(0,l.jsxs)("div",{className:"bg-gray-800 p-3 rounded",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:r("eligibility.approved.nextSubmission")}),(0,l.jsx)("p",{className:"text-lg",children:r("eligibility.approved.remaining",{days:s.days,hours:s.hours,minutes:s.minutes})})]})]});case"error":return(0,l.jsxs)("div",{className:"bg-red-900 border border-red-700 text-white p-6 rounded-lg mb-6",children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-2",children:["❌ ",r("common:status.error")]}),(0,l.jsx)("p",{children:t.message}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-800 hover:bg-red-700 rounded text-sm",children:r("eligibility.retry")})]});default:return null}},E=()=>{let{user:e}=(0,c.As)(),{t}=(0,A.Bd)(["submission","common"]),{submitVideo:s,uploading:i}=(()=>{let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),{refreshProfile:i}=(0,c.As)();return{submitVideo:async e=>{let{videoUrl:s,pullUpCount:r,userId:a,organization:n,region:o,gender:c,age:u}=e;try{t(!0),l(null);let{error:e}=await d.ND.from("submissions").insert([{user_id:a,video_url:s,pull_up_count:r,organization:n,region:o,gender:c,age:u,status:"pending",submitted_at:new Date().toISOString()}]);if(e)throw e;try{await i()}catch(e){console.warn("Failed to refresh profile after submission:",e)}return t(!1),{success:!0}}catch(e){return t(!1),l(e.message||"Submission failed"),{success:!1,error:e.message}}},uploading:e,error:s}})(),h=(0,n.useRouter)(),{trackEvent:x}=(0,z.Q)(),{organizations:b,isLoading:f}=(0,_.G)(),[y,j]=(0,r.useState)({pullUpCount:0,videoUrl:"",organization:"",region:"",gender:"Male",otherOrganization:""}),[N,E]=(0,r.useState)({checkbox1:!1,checkbox2:!1,checkbox3:!1,checkbox4:!1}),{submissions:S}=g({status:"Pending",limit:3}),[B,O]=(0,r.useState)(null),[P,D]=(0,r.useState)(!0),q=(()=>{let[e,t]=(0,r.useState)({days:0,hours:0,minutes:0});return(0,r.useEffect)(()=>{let e=()=>{let e=new Date,s=new Date(e.getFullYear(),e.getMonth()+1,1).getTime()-e.getTime();s>0&&t({days:Math.floor(s/864e5),hours:Math.floor(s/36e5%24),minutes:Math.floor(s/1e3/60%60)})};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]),e})(),R=(0,r.useCallback)(async()=>{if(null==e?void 0:e.id){D(!0);try{let{data:t,error:s}=await d.ND.rpc("get_submission_status",{input_user_id:e.id});if(s)throw s;O(t)}catch(e){console.error("Error checking eligibility:",e),O({can_submit:!1,status:"error",message:"Unable to check submission eligibility. Please try again."})}finally{D(!1)}}},[null==e?void 0:e.id,O,D]);(0,r.useEffect)(()=>{R()},[null==e?void 0:e.id,R]);let H=e=>{let{name:t,value:s,type:l}=e.target;if("checkbox"===l){let{checked:s}=e.target;E(e=>({...e,[t]:s}))}else j(e=>({...e,[t]:s}))},I=async l=>{l.preventDefault(),!(y.pullUpCount<1)&&e&&(await x("SubmitApplication",{externalId:e.id,email:e.email},{content_name:"PUC Video Submission",content_category:"Competition",content_type:"product",value:0,currency:"USD",pull_up_count:y.pullUpCount,region:y.region,gender:y.gender,page_url:window.location.href,page_path:window.location.pathname}),(await s({videoUrl:y.videoUrl,pullUpCount:y.pullUpCount,userId:e.id,organization:"Other"===y.organization?y.otherOrganization:y.organization,region:y.region,gender:y.gender,age:0})).success&&(U.Ay.success(t("successToast")),h.push("/profile")))};return e?P?(0,l.jsxs)(o.default,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:t("meta.title")}),(0,l.jsx)("meta",{name:"description",content:t("meta.description")})]}),(0,l.jsx)("div",{className:"bg-black min-h-screen py-16 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-8 gap-4",children:[(0,l.jsx)(F.default,{src:"/PUClogo (1).webp",alt:t("common:misc.logoAlt"),width:48,height:48,className:"mr-2",priority:!0}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-white text-center",children:t("title")})]}),(0,l.jsx)("div",{className:"bg-gray-800 p-6 rounded-lg mb-6 text-center",children:(0,l.jsx)("p",{className:"text-white",children:t("eligibility.checking")})})]})})]}):!P&&B?(0,l.jsxs)(o.default,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:t("meta.title")}),(0,l.jsx)("meta",{name:"description",content:t("meta.description")})]}),(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:t("title")}),(0,l.jsx)("p",{className:"text-gray-300",children:t("subtitle")})]}),(0,l.jsx)(M,{status:B,countdown:q}),B.can_submit?(0,l.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,l.jsxs)("form",{onSubmit:I,className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"pullUpCount",className:"block text-gray-300 font-medium mb-2",children:[t("form.pullUpCount")," ",(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]}),(0,l.jsx)("input",{type:"number",id:"pullUpCount",name:"pullUpCount",value:y.pullUpCount||"",onChange:H,min:"1",max:"100",className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9b9b6f]",required:!0}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:t("form.pullUpCountDesc")})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"gender",className:"block text-gray-300 font-medium mb-2",children:[t("form.gender")," ",(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]}),(0,l.jsxs)("select",{id:"gender",name:"gender",value:y.gender,onChange:H,className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9b9b6f]",required:!0,children:[(0,l.jsx)("option",{value:"Male",children:t("form.male")}),(0,l.jsx)("option",{value:"Female",children:t("form.female")}),(0,l.jsx)("option",{value:"Other",children:t("form.other")})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"region",className:"block text-gray-300 font-medium mb-2",children:[t("form.region")," ",(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]}),(0,l.jsxs)("select",{id:"region",name:"region",value:y.region,onChange:H,className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9b9b6f]",required:!0,children:[(0,l.jsx)("option",{value:"",children:t("form.selectRegion")}),k.Ei.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"organization",className:"block text-gray-300 font-medium mb-2",children:t("form.club")}),(0,l.jsxs)("select",{id:"organization",name:"organization",value:y.organization,onChange:H,disabled:f,className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9b9b6f] disabled:opacity-50",children:[(0,l.jsx)("option",{value:"",children:f?"Loading clubs...":t("form.selectClub")}),!f&&b.filter(e=>"None"!==e&&"No Organization"!==e).map(e=>(0,l.jsx)("option",{value:e,children:e},e)),(0,l.jsx)("option",{value:"Other",children:t("form.other")})]}),"Other"===y.organization&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("input",{type:"text",id:"otherOrganization",name:"otherOrganization",value:y.otherOrganization||"",onChange:H,placeholder:t("form.otherClubPlaceholder"),className:"w-full px-4 py-2 bg-gray-700 text-white rounded focus:outline-none focus:ring-2 focus:ring-[#9b9b6f]",required:!0})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"videoUrl",className:"block text-gray-300 font-medium mb-2",children:[t("form.videoUrl")," ",(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]}),(0,l.jsx)("input",{type:"url",id:"videoUrl",name:"videoUrl",value:y.videoUrl,onChange:H,placeholder:t("form.videoUrlPlaceholder"),className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9b9b6f]",required:!0}),(0,l.jsxs)("div",{className:"mt-1 text-sm text-gray-400 flex items-start",children:[(0,l.jsx)(u,{className:"h-4 w-4 mr-1 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:t("form.videoUrlDesc")})]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-medium text-white mb-3",children:t("form.requirementsTitle")}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-gray-300 space-y-1 text-sm ml-1",children:[(0,l.jsx)("li",{children:t("form.req1")}),(0,l.jsx)("li",{children:t("form.req2")}),(0,l.jsx)("li",{children:t("form.req3")}),(0,l.jsx)("li",{children:t("form.req4")}),(0,l.jsx)("li",{children:t("form.req5")}),(0,l.jsx)("li",{children:t("form.req6")})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("input",{type:"checkbox",id:"checkbox1",name:"checkbox1",checked:N.checkbox1,onChange:H,className:"mt-1 h-4 w-4 rounded border-gray-700 text-[#9b9b6f] focus:ring-[#9b9b6f]",required:!0}),(0,l.jsxs)("label",{htmlFor:"checkbox1",className:"ml-2 block text-sm text-gray-300",children:[t("form.checkbox1"),(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]})]}),(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("input",{type:"checkbox",id:"checkbox2",name:"checkbox2",checked:N.checkbox2,onChange:H,className:"mt-1 h-4 w-4 rounded border-gray-700 text-[#9b9b6f] focus:ring-[#9b9b6f]",required:!0}),(0,l.jsxs)("label",{htmlFor:"checkbox2",className:"ml-2 block text-sm text-gray-300",children:[t("form.checkbox2"),(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]})]}),(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("input",{type:"checkbox",id:"checkbox3",name:"checkbox3",checked:N.checkbox3,onChange:H,className:"mt-1 h-4 w-4 rounded border-gray-700 text-[#9b9b6f] focus:ring-[#9b9b6f]",required:!0}),(0,l.jsxs)("label",{htmlFor:"checkbox3",className:"ml-2 block text-sm text-gray-300",children:[t("form.checkbox3"),(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]})]}),(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("input",{type:"checkbox",id:"checkbox4",name:"checkbox4",checked:N.checkbox4,onChange:H,className:"mt-1 h-4 w-4 rounded border-gray-700 text-[#9b9b6f] focus:ring-[#9b9b6f]",required:!0}),(0,l.jsxs)("label",{htmlFor:"checkbox4",className:"ml-2 block text-sm text-gray-300",children:[t("form.checkbox4"),(0,l.jsx)("span",{className:"text-[#9b9b6f]",children:"*"})]})]})]}),(0,l.jsxs)("div",{className:"pt-4 border-t border-gray-700",children:[(0,l.jsx)("p",{className:"text-sm text-gray-400 mb-4 text-center",children:t("form.reviewTime")}),(0,l.jsx)(p.Button,{type:"submit",disabled:!(y.pullUpCount>0&&""!==y.videoUrl.trim()&&N.checkbox1&&N.checkbox2&&N.checkbox3&&N.checkbox4&&y.gender&&y.region)||i,className:"w-full bg-[#9b9b6f] text-black hover:bg-[#a5a575] font-semibold py-3 rounded-lg transition-colors flex items-center justify-center",children:i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.A,{className:"animate-spin mr-2"}),t("form.submittingButton")]}):t("form.submitButton")})]})]})}):(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:t("eligibility.notAvailable.title")}),(0,l.jsx)("p",{className:"text-gray-300 mb-4",children:t("eligibility.notAvailable.message")}),(0,l.jsx)(C.N,{href:"/leaderboard",className:"inline-block px-6 py-3 bg-[#918f6f] hover:bg-[#a19f7f] text-black font-semibold rounded-lg",children:t("eligibility.notAvailable.viewLeaderboard")})]}),S.length>0&&(0,l.jsxs)("div",{className:"mt-12",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:t("recentSubmissions.title")}),(0,l.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-white",children:[(0,l.jsxs)("span",{className:"font-medium",children:[e.pullUpCount," pull-ups"]}),void 0!==e.actualPullUpCount&&e.pullUpCount!==e.actualPullUpCount&&(0,l.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",t("recentSubmissions.verified"),": ",e.actualPullUpCount,")"]})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[t("recentSubmissions.submittedOn")," ",new Date(e.submittedAt).toLocaleDateString()]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat("Approved"===e.status?"bg-green-900 text-green-300":"Rejected"===e.status?"bg-red-900 text-red-300":"bg-yellow-900 text-yellow-300"),children:e.status})})]}),e.notes&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-gray-700 rounded-lg text-sm",children:[(0,l.jsxs)("p",{className:"text-gray-300 font-medium",children:[t("recentSubmissions.reviewNotes"),":"]}),(0,l.jsx)("p",{className:"text-white",children:e.notes})]}),(0,l.jsx)("div",{className:"mt-3 flex justify-between",children:(0,l.jsxs)("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#9b9b6f] hover:text-[#7a7a58] text-sm flex items-center",children:[(0,l.jsx)(u,{className:"h-3 w-3 mr-1"})," ",t("recentSubmissions.viewVideo")]})})]},e.id))}),S.length>=3&&(0,l.jsx)("div",{className:"mt-4 text-center",children:(0,l.jsx)(w,{href:"/profile",variant:"outline",size:"sm",children:t("recentSubmissions.viewAll")})})]})]})]}):(0,l.jsx)(o.default,{children:(0,l.jsx)("div",{className:"bg-black min-h-screen py-16 px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"text-white text-center py-12",children:t("eligibility.checking")})})}):(0,l.jsx)(o.default,{children:(0,l.jsx)("div",{className:"bg-black min-h-screen py-16 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,l.jsx)(v,{variant:"warning",title:t("noAuth.title"),description:t("noAuth.description"),icon:(0,l.jsx)(u,{size:24})}),(0,l.jsxs)("div",{className:"mt-6 flex justify-center space-x-4",children:[(0,l.jsx)(w,{href:"/login",children:t("noAuth.login")}),(0,l.jsx)(w,{href:"/create-account",variant:"outline",children:t("noAuth.createAccount")})]})]})})})}},809:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(2895).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2915:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(2895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3339:(e,t,s)=>{Promise.resolve().then(s.bind(s,8261)),Promise.resolve().then(s.bind(s,500))},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var l=s(2596),r=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,l.$)(t))}},4641:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var l=s(2115),r=s(3168);let i=e=>{let[t,s]=(0,l.useState)([]),[i,a]=(0,l.useState)(!0),[n,o]=(0,l.useState)(null),c=async()=>{try{a(!0),o(null);let{data:t,error:l}=await r.ND.from("user_best_submissions").select("*").order("actual_pull_up_count",{ascending:!1}).limit(e||1e3);if(l)throw l;let i=(t||[]).map(e=>({id:e.id,userId:e.user_id,fullName:e.full_name||"Unknown User",email:e.email||"unknown@example.com",phone:e.phone||"",age:e.age||0,gender:e.gender||"Other",region:e.region||"Unknown Region",organization:e.organization||"None",pullUpCount:e.actual_pull_up_count||e.pull_up_count,actualPullUpCount:e.actual_pull_up_count,videoUrl:e.video_url,status:"Approved",submittedAt:e.created_at,approvedAt:e.approved_at||void 0,notes:e.notes||void 0,featured:!0,socialHandle:e.social_media||void 0}));s(i)}catch(e){console.error("Error fetching leaderboard data:",e),o(e instanceof Error?e.message:"Failed to fetch leaderboard data")}finally{a(!1)}};return(0,l.useEffect)(()=>{c()},[e]),{leaderboardData:t,isLoading:i,error:n,refetch:c}}},4912:(e,t,s)=>{"use strict";s.d(t,{Button:()=>d});var l=s(5155),r=s(2115),i=s(4624),a=s(2085),n=s(3999),o=s(1403);let c=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:a,asChild:d=!1,trackingName:u,trackingData:m,onClick:p,...g}=e,{trackButtonClick:h}=(0,o.V)(),x=d?i.DX:"button",b=async e=>{u&&await h(u,{variant:r,size:a,...m}),null==p||p(e)};return(0,l.jsx)(x,{className:(0,n.cn)(c({variant:r,size:a,className:s})),ref:t,onClick:b,...g})});d.displayName="Button"},5015:(e,t,s)=>{"use strict";s.d(t,{Gu:()=>r,W5:()=>i});var l=s(5155);s(2115);let r=e=>{let{message:t="Loading...",className:s=""}=e;return(0,l.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg text-center ".concat(s),children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-white",children:t})]})},i=e=>{let{message:t,className:s="",onRetry:r}=e;return(0,l.jsxs)("div",{className:"bg-red-900 border border-red-700 text-white p-4 rounded-lg flex items-center justify-between ".concat(s),children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,l.jsx)("span",{children:t})]}),r&&(0,l.jsx)("button",{onClick:r,className:"bg-red-800 hover:bg-red-700 text-white text-sm px-3 py-1 rounded-md ml-4 transition-colors",children:"Retry"})]})}},7624:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(2895).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8126:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8261:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var l=s(5155),r=s(2115),i=s(5695),a=s(5731),n=s(5015);let o=e=>{let{children:t,requireAuth:s=!0,redirectTo:o="/login"}=e,{user:c,isLoading:d,subscriptionState:u}=(0,a.As)(),m=(0,i.useRouter)(),p=(0,i.usePathname)();return(r.useEffect(()=>{if(!d&&(!s||"loading"!==u)){if(s&&!c){let e="".concat(o,"?redirect=").concat(encodeURIComponent(p||"/"));m.push(e);return}if(!s&&c)return void m.push("/profile")}},[c,d,u,s,o,p,m]),d||s&&"loading"===u)?(0,l.jsx)(n.Gu,{message:"Checking authentication..."}):s&&!c?(0,l.jsx)(n.Gu,{message:"Redirecting to login..."}):!s&&c?(0,l.jsx)(n.Gu,{message:"Redirecting to profile..."}):(0,l.jsx)(l.Fragment,{children:t})}},8777:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>c,Ei:()=>l,e9:()=>n,eW:()=>o,fR:()=>a,gs:()=>r});let l=["North America","South America","Europe","Asia","Africa","Australia","Middle East"],r=()=>["18-24","25-34","35-44","45-54","55+"],i=[{id:"recruit",name:"Recruit",description:"Completed 5 pull-ups",imageUrl:"/Male-Badges/Recruit.webp",criteria:{type:"pullUps",value:5}},{id:"proven",name:"Proven",description:"Completed 10 pull-ups",imageUrl:"/Male-Badges/Proven.webp",criteria:{type:"pullUps",value:10}},{id:"hardened",name:"Hardened",description:"Completed 15 pull-ups",imageUrl:"/Male-Badges/Hardened.webp",criteria:{type:"pullUps",value:15}},{id:"operator",name:"Operator",description:"Completed 20 pull-ups",imageUrl:"/Male-Badges/Operator.webp",criteria:{type:"pullUps",value:20}},{id:"elite",name:"Elite",description:"Completed 25 pull-ups",imageUrl:"/Male-Badges/Elite.webp",criteria:{type:"pullUps",value:25}}],a=[{id:"recruit",name:"Recruit",description:"Completed 3 pull-ups",imageUrl:"/Female-Badges/Recruit_-_Female.webp",criteria:{type:"pullUps",value:3}},{id:"proven",name:"Proven",description:"Completed 7 pull-ups",imageUrl:"/Female-Badges/Proven_-_Female.webp",criteria:{type:"pullUps",value:7}},{id:"hardened",name:"Hardened",description:"Completed 12 pull-ups",imageUrl:"/Female-Badges/Hardened_1_-_Female.webp",criteria:{type:"pullUps",value:12}},{id:"operator",name:"Operator",description:"Completed 15 pull-ups",imageUrl:"/Female-Badges/Operator_-_Female.webp",criteria:{type:"pullUps",value:15}},{id:"elite",name:"Elite",description:"Completed 20 pull-ups",imageUrl:"/Female-Badges/Elite_Female.webp",criteria:{type:"pullUps",value:20}}],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Male";return("Female"===t?a:i).filter(t=>t.criteria.value<=e).map(e=>({...e,imageUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Male",s="Female"===t;switch(e){case"recruit":default:return s?"/Female-Badges/Recruit_-_Female.webp":"/Male-Badges/Recruit.webp";case"proven":return s?"/Female-Badges/Proven_-_Female.webp":"/Male-Badges/Proven.webp";case"hardened":return s?"/Female-Badges/Hardened_1_-_Female.webp":"/Male-Badges/Hardened.webp";case"operator":return s?"/Female-Badges/Operator_-_Female.webp":"/Male-Badges/Operator.webp";case"elite":return s?"/Female-Badges/Elite_Female.webp":"/Male-Badges/Elite.webp"}}(e.id,t)}))},o=()=>[...i.map(e=>({...e,id:"".concat(e.id,"-male"),name:"".concat(e.name," (Male - ").concat(e.criteria.value,"+ pull-ups)"),description:"".concat(e.description," - Male requirement")})),...a.map(e=>({...e,id:"".concat(e.id,"-female"),name:"".concat(e.name," (Female - ").concat(e.criteria.value,"+ pull-ups)"),description:"".concat(e.description," - Female requirement")}))],c=i},8798:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var l=s(2115),r=s(4641);let i=()=>{let{leaderboardData:e,isLoading:t}=(0,r.P)(),[s,i]=(0,l.useState)(!0),a=(0,l.useMemo)(()=>{if(!e.length)return[];let t=new Map;return e.forEach(e=>{let s=e.organization;s&&"None"!==s&&"No Organization"!==s||(s="No Organization");let l=t.get(s)||0;t.set(s,l+1)}),Array.from(t.entries()).map(e=>{let[t,s]=e;return{name:t,count:s}}).sort((e,t)=>e.count!==t.count?t.count-e.count:e.name.localeCompare(t.name))},[e]),n=(0,l.useMemo)(()=>a.map(e=>e.name),[a]);return(0,l.useEffect)(()=>{i(t)},[t]),{organizations:n,organizationsWithCounts:a,isLoading:s}}}},e=>{e.O(0,[3825,1218,7132,9650,4212,8260,5116,8589,8441,5964,7358],()=>e(e.s=3339)),_N_E=e.O()}]);