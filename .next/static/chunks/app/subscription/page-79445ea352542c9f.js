(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6626],{3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var l=s(2596),a=s(9688);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,l.$)(t))}},4912:(e,t,s)=>{"use strict";s.d(t,{Button:()=>d});var l=s(5155),a=s(2115),r=s(4624),n=s(2085),i=s(3999),c=s(1403);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:d=!1,trackingName:m,trackingData:u,onClick:x,...h}=e,{trackButtonClick:p}=(0,c.V)(),b=d?r.DX:"button",f=async e=>{m&&await p(m,{variant:a,size:n,...u}),null==x||x(e)};return(0,l.jsx)(b,{className:(0,i.cn)(o({variant:a,size:n,className:s})),ref:t,onClick:f,...h})});d.displayName="Button"},6228:(e,t,s)=>{Promise.resolve().then(s.bind(s,6518))},6518:(e,t,s)=>{"use strict";s.d(t,{default:()=>T});var l=s(5155),a=s(2115),r=s(8126),n=s.n(r),i=s(8589),c=s(5731),o=s(8043),d=s(7624),m=s(5324),u=s(8184),x=s(3684),h=s(4912),p=s(809),b=s(9074),f=s(1586),y=s(3995),g=s(5525);let j=e=>{let{onError:t}=e,[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{m(!0);try{let e=await (0,o.UF)();r(e.subscription),i(e.stripeSubscription)}catch(s){let e=s instanceof Error?s.message:"Failed to load subscription";h(e),t&&t(e)}finally{m(!1)}})()},[t]);let p=async()=>{try{m(!0),await (0,o.fY)()}catch(s){console.error("Error opening customer portal:",s);let e=s instanceof Error?s.message:"Failed to open customer portal";h(e),t&&t(e)}finally{m(!1)}};if(c)return(0,l.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 shadow-md flex justify-center items-center h-48",children:(0,l.jsx)(d.A,{className:"h-8 w-8 text-[#9b9b6f] animate-spin"})});if(!s)return(0,l.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 shadow-md",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Active Subscription"}),(0,l.jsx)("p",{className:"text-gray-400 mb-6",children:"You don't have an active subscription at the moment."}),(0,l.jsx)("button",{onClick:()=>window.location.href="/submit",className:"bg-[#9b9b6f] text-black px-4 py-2 rounded font-medium hover:bg-[#7a7a58] transition",children:"Subscribe Now"})]})});let b=new Date((null==n?void 0:n.currentPeriodEnd)||s.current_period_end),j=(0,u.GP)(b,"MMMM d, yyyy"),N=b.getTime()-new Date().getTime()>27648e5;return(0,l.jsxs)("div",{className:"bg-gradient-to-r from-[#ffffff10] to-[#121212] backdrop-blur-sm rounded-xl p-6 shadow-md border border-gray-700",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-xl font-semibold text-white mb-1",children:[N?"Annual":"Monthly"," Membership"]}),(0,l.jsx)("p",{className:"text-[#9b9b6f] font-medium",children:N?"$99.00/year":"$9.99/month"})]}),(0,l.jsx)("div",{className:"bg-[#9b9b6f]/20 rounded-full px-3 py-1",children:(0,l.jsx)("span",{className:"text-[#9b9b6f] text-sm font-medium",children:"Active"})})]}),(0,l.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(f.A,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-300 font-medium",children:"Next billing date"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:j})]})]}),(null==n?void 0:n.cancelAtPeriodEnd)&&(0,l.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-lg p-4 text-sm text-yellow-200",children:["Your subscription is set to cancel at the end of the current billing period. You'll still have access until ",j,"."]})]}),(0,l.jsxs)("button",{onClick:p,disabled:c,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2.5 rounded-lg transition flex items-center justify-center",children:[c?(0,l.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,l.jsx)(g.A,{className:"h-4 w-4 mr-2"}),c?"Loading...":"Manage Subscription"]}),x&&(0,l.jsx)("div",{className:"mt-4 bg-red-900/30 border border-red-800 rounded-lg p-3 text-sm text-red-200",children:x})]})};var N=s(3168);let v=()=>{let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{(async()=>{try{r(!0);let e=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;for(let s=0;s<e;s++){let{data:{session:e},error:s}=await N.ND.auth.getSession();if(e&&!s)return e;await new Promise(e=>setTimeout(e,t))}return null};if(!await e()){i("No active session found. Please sign in again."),r(!1);return}let s=await (0,o.UF)();s?t(s):i("No subscription data available")}catch(e){i(e instanceof Error?e.message:"Failed to load subscription data")}finally{r(!1)}})()},[]),s)return(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#9b9b6f] mx-auto"}),(0,l.jsx)("p",{className:"text-gray-300 mt-4",children:"Loading subscription details..."})]});if(n)return(0,l.jsxs)("div",{className:"bg-red-900/30 border border-red-800 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center text-red-200 mb-4",children:[(0,l.jsx)(p.A,{className:"w-6 h-6 mr-2"}),(0,l.jsx)("h3",{className:"text-lg font-medium",children:"Error Loading Subscription"})]}),(0,l.jsx)("p",{className:"text-gray-300",children:n}),(0,l.jsx)(h.Button,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Retry"})]});if(!e||!e.subscription)return(0,l.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:(0,l.jsx)("p",{className:"text-gray-300",children:"No active subscription found"})});let{subscription:m,stripeSubscription:y}=e,g=m.current_period_end-m.current_period_start>2678400,v=g?x.ZE.pullUpClubAnnual:x.ZE.pullUpClub,w=new Date(1e3*m.current_period_end),S=(0,u.GP)(w,"MMMM d, yyyy"),k=null==y?void 0:y.cancelAtPeriodEnd;return(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:v.name}),(0,l.jsxs)("p",{className:"text-gray-400",children:["Status: ",(0,l.jsx)("span",{className:"font-medium ".concat("active"===m.status?"text-green-400":"text-yellow-400"),children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})]})]}),(0,l.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,l.jsxs)("p",{className:"text-xl font-bold text-white",children:["$",v.price]}),(0,l.jsxs)("p",{className:"text-sm text-gray-400",children:["Billed ",g?"annually":"monthly"]})]})]}),k&&(0,l.jsx)("div",{className:"p-4 bg-yellow-900/30 border border-yellow-800 rounded-lg",children:(0,l.jsxs)("p",{className:"text-yellow-200",children:["Your subscription is set to cancel at the end of the current billing period. You will have access until ",S,"."]})}),(0,l.jsxs)("div",{className:"space-y-4 border-t border-gray-700 pt-4",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(b.A,{className:"w-5 h-5 text-[#9b9b6f] mr-3 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-white",children:"Next billing date"}),(0,l.jsx)("p",{className:"text-gray-400",children:S})]})]}),(null==y?void 0:y.payment_method_brand)&&(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(f.A,{className:"w-5 h-5 text-[#9b9b6f] mr-3 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-white",children:"Payment method"}),(0,l.jsxs)("p",{className:"text-gray-400",children:[y.payment_method_brand.toUpperCase()," •••• ",y.payment_method_last4]})]})]})]}),(0,l.jsx)("div",{className:"border-t border-gray-700 pt-6",children:c?(0,l.jsx)(j,{}):(0,l.jsx)(h.Button,{onClick:()=>d(!0),className:"w-full",children:"Manage Subscription"})})]})};var w=s(3052),S=s(232),k=s(4584),C=s(1218),P=s(798);let _={monthly:"https://buy.stripe.com/dRmdR9dos2kmaQcdHGejK00",annual:"https://buy.stripe.com/28EcN5dosf784rO0UUejK01"},A=()=>{let{t:e,ready:t}=(0,C.Bd)("subscription"),[s,r]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[o,d]=(0,a.useState)("monthly"),{trackViewContent:u,trackEvent:h}=(0,P.Q)(),p=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{!p.current&&t&&(p.current=!0,u({},{name:"Subscription Plans",category:"subscription",type:"page"}).catch(()=>{}))},[u,t]),!t)return(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-[#9b9b6f] border-t-transparent rounded-full"})});let b=async()=>{c(null),r(!0);try{(0,k.sx)({action:"subscription_plan_selected",category:"stripe",label:o}),await h("InitiateCheckout",{},{value:"monthly"===o?9.99:99.99,currency:"USD",content_name:"PUC ".concat("monthly"===o?"Monthly":"Annual"," Membership"),content_category:"Subscription",content_ids:[o],content_type:"product",num_items:1,page_url:window.location.href,page_path:window.location.pathname}),console.log("Redirecting to Stripe payment link for ".concat(o," plan"));let e=_[o];(0,k.sx)({action:"stripe_checkout_redirect",category:"stripe",label:o}),window.location.href=e}catch(t){console.error("Redirect error:",t);let e="Failed to redirect to payment page. Please try again.";t instanceof Error&&(e=t.message),c(e),r(!1)}};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:e("meta.title")}),(0,l.jsx)("meta",{name:"description",content:e("meta.description")})]}),(0,l.jsx)("div",{className:"max-w-2xl mx-auto mb-8 bg-gray-800 border border-gray-700 rounded-lg p-4 text-center",children:(0,l.jsx)("p",{className:"text-gray-300",children:e("plans.intro")})}),(0,l.jsx)("div",{className:"flex justify-center mb-8",children:(0,l.jsxs)("div",{className:"bg-gray-800 p-1 rounded-full",children:[(0,l.jsx)("button",{onClick:()=>d("monthly"),className:"px-6 py-2 rounded-full text-sm font-medium transition-colors ".concat("monthly"===o?"bg-[#9b9b6f] text-black":"text-white hover:bg-gray-700"),children:e("plans.monthly")||"Monthly"}),(0,l.jsx)("button",{onClick:()=>d("annual"),className:"px-6 py-2 rounded-full text-sm font-medium transition-colors ".concat("annual"===o?"bg-[#9b9b6f] text-black":"text-white hover:bg-gray-700"),children:e("plans.annual")||"Annual"})]})}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,l.jsx)("div",{className:"relative rounded-xl overflow-hidden ".concat("monthly"===o?"border-2 border-[#9b9b6f] shadow-lg shadow-[#9b9b6f]/20":"border border-gray-700"," flex flex-col h-full"),children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-[#ffffff10] to-[#121212] backdrop-blur-sm p-6 flex flex-col h-full",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e("plans.monthlyTitle")}),(0,l.jsxs)("div",{className:"flex items-baseline mb-4",children:[(0,l.jsxs)("span",{className:"text-3xl font-bold text-white",children:["$",x.ZE.pullUpClub.price]}),(0,l.jsx)("span",{className:"text-gray-400 ml-1",children:e("plans.monthlyPrice")||"/month"})]}),(0,l.jsx)("ul",{className:"space-y-3 mb-6 flex-grow",children:(e("plans.monthlyFeatures",{returnObjects:!0})||["Access to monthly pull-up competitions","Submit unlimited pull-up videos","Track your progress and achievements","Compete for cash prizes","Join the elite fitness community"]).map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-[#9b9b6f] mr-2 flex-shrink-0"}),(0,l.jsx)("span",{className:"text-gray-300",children:e})]},t))}),(0,l.jsx)("button",{onClick:"monthly"===o?b:void 0,disabled:s||"monthly"!==o,className:"w-full font-medium py-3 rounded-md transition flex items-center justify-center ".concat("monthly"===o?"bg-[#9b9b6f] text-black hover:bg-[#7a7a58]":"bg-gray-700 text-white cursor-not-allowed opacity-50"),children:s&&"monthly"===o?(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("plans.processing")]}):(0,l.jsxs)("span",{className:"flex items-center",children:[e("plans.button")," ",(0,l.jsx)(w.A,{size:18,className:"ml-1"})]})})]})}),(0,l.jsxs)("div",{className:"relative rounded-xl overflow-hidden ".concat("annual"===o?"border-2 border-[#9b9b6f] shadow-lg shadow-[#9b9b6f]/20":"border border-gray-700"," flex flex-col h-full"),children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 bg-[#9b9b6f] text-black px-3 py-1 text-xs font-semibold",children:e("plans.bestValue")}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-[#ffffff10] to-[#121212] backdrop-blur-sm p-6 flex flex-col h-full",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e("plans.annualTitle")}),(0,l.jsxs)("div",{className:"flex items-baseline mb-4",children:[(0,l.jsxs)("span",{className:"text-3xl font-bold text-white",children:["$",x.ZE.pullUpClubAnnual.price]}),(0,l.jsx)("span",{className:"text-gray-400 ml-1",children:e("plans.annualPrice")||"/year"})]}),(0,l.jsx)("ul",{className:"space-y-3 mb-6 flex-grow",children:(e("plans.annualFeatures",{returnObjects:!0})||["Access to monthly pull-up competitions","Submit unlimited pull-up videos","Track your progress and achievements","Compete for cash prizes","Join the elite fitness community","Save 20% compared to monthly billing","Priority customer support"]).map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-[#9b9b6f] mr-2 flex-shrink-0"}),(0,l.jsx)("span",{className:"text-gray-300",children:e})]},t))}),(0,l.jsx)("button",{onClick:"annual"===o?b:void 0,disabled:s||"annual"!==o,className:"w-full font-medium py-3 rounded-md transition flex items-center justify-center ".concat("annual"===o?"bg-[#9b9b6f] text-black hover:bg-[#7a7a58]":"bg-gray-700 text-white cursor-not-allowed opacity-50"),children:s&&"annual"===o?(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("plans.processing")]}):(0,l.jsxs)("span",{className:"flex items-center",children:[e("plans.button")," ",(0,l.jsx)(w.A,{size:18,className:"ml-1"})]})})]})]})]}),i&&(0,l.jsx)("div",{className:"mt-6 bg-red-900/50 border border-red-700 text-white p-4 rounded-lg",children:i}),(0,l.jsxs)("div",{className:"mt-8 flex flex-col items-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,l.jsx)(S.A,{className:"h-5 w-5 text-[#9b9b6f]"}),(0,l.jsx)(f.A,{className:"h-5 w-5 text-[#9b9b6f]"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-400 text-center",children:e("securePayment")})]})]})},E=()=>{let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,o.pK)();t(e)}catch(e){console.error("Error fetching payment history:",e),i("Could not load payment history")}finally{r(!1)}})()},[]),(0,l.jsxs)("div",{className:"bg-white/5 p-6 rounded-xl text-white",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Payment History"}),s?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#9b9b6f]"})}):n?(0,l.jsx)("div",{className:"text-red-400",children:n}):0===e.length?(0,l.jsx)("div",{className:"text-gray-400 py-4",children:"No payment history available yet."}):(0,l.jsx)("div",{className:"space-y-4",children:e.map(e=>{let t;return(0,l.jsxs)("div",{className:"bg-white/5 p-4 rounded-lg flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(b.A,{size:16,className:"text-gray-400 mr-2"}),(0,l.jsx)("span",{className:"text-gray-300",children:(e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)})(e.date)})]}),(0,l.jsx)("div",{className:"font-semibold mt-1",children:(t=e.amount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))}),(0,l.jsx)("div",{className:"text-xs mt-1",children:(0,l.jsx)("span",{className:"px-2 py-1 rounded-full ".concat("succeeded"===e.status?"bg-green-900/30 text-green-400":"pending"===e.status?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),e.receipt&&(0,l.jsx)("a",{href:e.receipt,target:"_blank",rel:"noopener noreferrer",className:"text-[#9b9b6f] text-sm hover:underline",children:"View Receipt"})]},e.id)})})]})};var U=s(5695),M=s(7947),F=s(5855);let z=e=>{let{onPaymentComplete:t,onPaymentError:s}=e,[r,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[m,u]=(0,a.useState)(null),x=(0,F.useStripe)(),b=(0,F.useElements)();(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,o.f)();(null==e?void 0:e.clientSecret)?u(e.clientSecret):c("Failed to get payment details. Please try again.")}catch(e){c(e instanceof Error?e.message:"Failed to initialize payment")}})()},[]);let f=async e=>{if(e.preventDefault(),!x||!b||!m)return void c("Payment system not initialized");n(!0),c(null);try{let{error:e,paymentIntent:s}=await x.confirmCardPayment(m,{payment_method:{card:b.getElement(F.CardElement)}});if(e)throw Error(e.message);if("succeeded"===s.status)t();else throw Error("Payment failed")}catch(t){let e=t instanceof Error?t.message:"Payment failed";c(e),s(e)}finally{n(!1)}};return(0,l.jsx)("div",{className:"p-6 bg-gray-800 rounded-lg",children:(0,l.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-gray-900 p-4 rounded-lg",children:(0,l.jsx)(F.CardElement,{options:{style:{base:{fontSize:"16px",color:"#ffffff","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a"}}}})}),i&&(0,l.jsxs)("div",{className:"bg-red-900 border border-red-700 text-white p-4 rounded-lg flex items-center",children:[(0,l.jsx)(p.A,{size:20,className:"mr-2"}),(0,l.jsx)("span",{children:i})]}),(0,l.jsxs)(h.Button,{type:"submit",disabled:!x||!b||r,className:"w-full mt-4",children:[r?(0,l.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}):null,r?"Processing...":"Pay $10.00"]})]})})};var D=s(6766);let T=()=>{let{user:e}=(0,c.As)(),[t,s]=(0,a.useState)(null),[r,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[p,b]=(0,a.useState)(!1),f=(0,U.useSearchParams)(),y=(0,U.useRouter)(),{t:g,ready:j}=(0,C.Bd)("subscription"),w=null==f?void 0:f.get("success"),S=null==f?void 0:f.get("cancelled"),k=null==f?void 0:f.get("plan"),P=null==f?void 0:f.get("checkout");if((0,a.useEffect)(()=>{(async()=>{if(!e){s(!1),u(!1);return}try{let e=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;for(let s=0;s<e;s++){let{data:{session:e},error:s}=await N.ND.auth.getSession();if(e&&!s)return e;await new Promise(e=>setTimeout(e,t))}return null};if(!await e()){console.log("No authenticated session available for subscription check - user not logged in"),s(!1),u(!1);return}let t=await (0,o.UF)();t?s(!!t.subscription):(console.warn("No subscription data returned"),s(!1))}catch(e){console.error("Error checking subscription:",e),h("Failed to load subscription status"),s(!1)}finally{u(!1)}})()},[e]),"true"===w||"completed"===P){var _;return(0,l.jsxs)(i.default,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:g("meta.title","Subscription | Pull-Up Club")}),(0,l.jsx)("meta",{name:"description",content:g("meta.description","Choose your subscription plan and join the Pull-Up Club today. Monthly and annual plans available.")})]}),(0,l.jsx)("div",{className:"bg-black min-h-screen py-16 px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,l.jsx)(M.A,{subscriptionType:k||"monthly",customerName:null==e||null==(_=e.email)?void 0:_.split("@")[0],redirectTo:"/profile",redirectLabel:"Go to your profile"})})})]})}return p&&!t&&e?(0,l.jsxs)(i.default,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:g("meta.title","Subscription | Pull-Up Club")}),(0,l.jsx)("meta",{name:"description",content:g("meta.description","Choose your subscription plan and join the Pull-Up Club today. Monthly and annual plans available.")})]}),(0,l.jsx)("div",{className:"bg-black min-h-screen py-12 px-4 sm:px-6 lg:px-8 flex justify-center items-start",children:(0,l.jsxs)("div",{className:"w-full max-w-lg",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:g("completeSubscriptionTitle")}),(0,l.jsx)(z,{onPaymentComplete:()=>{y.push("/subscription?success=true&plan=monthly")},onPaymentError:e=>{console.error("Payment error",e)}})]})})]}):(0,l.jsxs)(i.default,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:g("meta.title","Subscription | Pull-Up Club")}),(0,l.jsx)("meta",{name:"description",content:g("meta.description","Choose your subscription plan and join the Pull-Up Club today. Monthly and annual plans available.")})]}),(0,l.jsx)("div",{className:"bg-black min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-3 gap-2 sm:gap-4",children:[(0,l.jsx)(D.default,{src:"/PUClogo (1).webp",alt:"Pull-Up Club Logo",width:64,height:64,className:"h-10 w-10 sm:h-12 sm:w-12 md:h-16 md:w-16 object-contain inline-block",style:{background:"transparent"},priority:!0}),(0,l.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-white m-0 p-0",children:g("title","Pull-Up Club Membership")})]}),(0,l.jsx)("p",{className:"text-gray-400 max-w-2xl mx-auto",children:g("subtitle","Join our exclusive pull-up challenge community, track your progress, and compete on the leaderboard.")})]}),r?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(d.A,{className:"h-10 w-10 text-[#9b9b6f] animate-spin"})}):t?(0,l.jsxs)("div",{className:"space-y-8 max-w-3xl mx-auto",children:["true"===S&&(0,l.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-lg p-4 mb-8 flex items-center",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-yellow-200",children:g("cancellationNotice")})]}),(0,l.jsxs)("div",{className:"bg-[#9b9b6f]/20 border border-[#9b9b6f] rounded-lg p-4 mb-8 flex items-center",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-[#9b9b6f] mr-2 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-gray-200",children:g("activeNotice")})]}),(0,l.jsx)(v,{}),(0,l.jsx)(E,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A,{}),(0,l.jsx)("div",{className:"mt-12 text-center text-sm text-gray-500",children:(0,l.jsx)("p",{children:(0,l.jsx)(C.x6,{i18nKey:"agreement",t:g,defaults:"By subscribing, you agree to our <0>Terms of Service</0> and <1>Privacy Policy</1>.",components:[(0,l.jsx)("a",{href:"/terms",className:"text-[#9b9b6f] hover:underline"},"terms-link"),(0,l.jsx)("a",{href:"/privacy",className:"text-[#9b9b6f] hover:underline"},"privacy-link")]})})})]}),x&&(0,l.jsx)("div",{className:"max-w-2xl mx-auto mt-8 bg-red-900/30 border border-red-800 rounded-lg p-4 text-sm text-red-200 text-center",children:"Failed to load subscription status"===x?g("loadingStatus"):x})]})})]})}},7947:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(5155),a=s(2115),r=s(5695),n=s(5731),i=s(798);let c=e=>{let{subscriptionType:t="monthly",customerName:s,redirectTo:c,redirectLabel:o}=e,d=(0,r.useRouter)(),{user:m,profile:u}=(0,n.As)(),{trackEvent:x}=(0,i.Q)();return(0,a.useEffect)(()=>{(async()=>{var e,s;if(!m)return;let l={email:m.email,externalId:m.id,firstName:(null==u||null==(e=u.full_name)?void 0:e.split(" ")[0])||"",lastName:(null==u||null==(s=u.full_name)?void 0:s.split(" ").slice(1).join(" "))||"",phone:(null==u?void 0:u.phone)||""},a="monthly"===t?9.99:99.99;await x("Purchase",l,{value:a,currency:"USD",content_name:"PUC ".concat("monthly"===t?"Monthly":"Annual"," Membership"),content_category:"Subscription",content_ids:[t],content_type:"product",num_items:1,order_id:"order_".concat(m.id,"_").concat(Date.now()),delivery_category:"home_delivery"})})()},[m,u,t,x]),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-green-500 mb-4",children:"Payment Successful!"}),(0,l.jsx)("p",{className:"text-gray-200 mb-6",children:s?"Welcome to Pull-Up Club, ".concat(s,"!"):"Your subscription is now active. Welcome to Pull-Up Club!"}),(0,l.jsx)("button",{className:"bg-[#9b9b6f] text-black px-6 py-2 rounded-full font-semibold hover:bg-[#7a7a58] transition",onClick:()=>{c?d.push(c):d.push("/profile")},children:o||"Go to Dashboard"})]})}}},e=>{e.O(0,[3825,1218,7132,9650,4212,5855,6787,5116,8589,8441,5964,7358],()=>e(e.s=6228)),_N_E=e.O()}]);